{% extends 'core/base.html' %}

{% block page_title %}
    Show Process Step
{% endblock %}

{#1. Nav----------------------------------------------------------------------#}

{#2. Header-------------------------------------------------------------------#}
    {% block page_name %}
        <header>
            <h1>
                Show Process Step
            </h1>
        </header>
    {% endblock %}

{% block page_content %}
{#3. Buttons------------------------------------------------------------------#}
    <div class="container" id="con1">
        <button
                class="card"
                onClick="javascript:history.go(-1);"
        >
            <h2>< Back</h2>
            <p>
                Go back to the document list
            </p>
        </button>

        <button class="card"></button>

        <button class="card"></button>

        <button class="card"></button>
    </div>

{#4. Display------------------------------------------------------------------#}
    <div class="container" id="con2">
        <div class="card display">

         <table class="table-data">
      <thead>
        <tr>
          <th colspan="2">Process</th>
          <th colspan="7">Process Step</th>
        </tr>
        <tr>
          <th>Nr</th>
          <th>Name</th>
          <th>Number</th>
          <th>Type</th>
          <th>Step Name</th>
          <th>Resp</th>
          <th>Documents</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>

      <tbody>
                <tr>
                <td>{{ process_step.parent_process.number }}</td>
                <td>{{ process_step.parent_process.name }}</td>

                <td>{{ process_step.number }}</td>
                <td>{{ process_step.type }}</td>
                <td>{{ process_step.name }}</td>

                <td><a class="table-link"
                       href="{% url 'show employee' pk=process_step.responsible.pk slug=process_step.responsible.slug %}">
                        <i class="fa-solid fa-magnifying-glass"></i>{{ process_step.responsible.get_full_name }}</a></td>

                <td>
                   {% for doc in process_step.get_related_documents %}
                       <a class="table-link"
                          href="{% url 'show document' pk=doc.document_id.pk slug=doc.document_id.slug %}">
                           <i class="fa-solid fa-magnifying-glass"></i>{{ doc.document_id.name }}</a>
                    {% endfor %}
                </td>

                <td><a class="table-link"
                       href="{% url 'edit process step' pk=process_step.pk slug=process_step.slug %}"><i class="fa-solid fa-pen-to-square"></i>
                    Edit</a></td>
                <td><a class="table-link"
                       href="{% url 'delete process step' pk=process_step.pk slug=process_step.slug %}"><i class="fa-solid fa-trash"></i>
                    Delete</a></td>

                </tr>

      </tbody>

    </table>

        </div>
    </div>

{% endblock %}
