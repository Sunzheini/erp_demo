{% extends 'core/base.html' %}

{% block page_title %}
    Process Management
{% endblock %}

{#1. Nav----------------------------------------------------------------------#}

{#2. Header-------------------------------------------------------------------#}
    {% block page_name %}
        <header>
            <h1>
                Process Management
            </h1>
        </header>
    {% endblock %}

{% block page_content %}
{#3. Buttons------------------------------------------------------------------#}
    <div class="container" id="con1">
        <button
                class="card"
                onclick="location.href='{% url 'index' %}';"
        >
            <h2>< Back</h2>
            <p>
                Go back to the main menu
            </p>
        </button>

        <button class="card"></button>

        <button class="card"></button>
    </div>

{#4. Display------------------------------------------------------------------#}
    <div class="container" id="con2">
        <div class="card">

    <form action="{% url 'process mng index' %}" method="post">
        1) Process Creation Form
        {{ process_form.as_div }}
        {% csrf_token %}
        <button class="form_button" name="button1">add this process</button>
    </form>

    <br><br>

    <form action="{% url 'process mng index' %}" method="post">
        2) Process Step Creation Form
        {{ process_step_form.as_div }}
        {% csrf_token %}
        <button class="form_button" name="button2">add this process step</button>
    </form>

        <br><br>

    <div>
         <table border="3">
      <thead>
        <tr>
          <th colspan="2">Process</th>
          <th colspan="4">Process Step</th>
        </tr>
        <tr>
          <th>Number</th>
          <th>Name</th>
          <th>Number</th>
          <th>Type</th>
          <th>Name</th>
          <th>Documents</th>
        </tr>
      </thead>

      <tbody>
        {% for list_item in process_info %}
                {% for i in list_item %}

                <tr>

                <td>{{ i.parent_process.number }}</td>
                <td>{{ i.parent_process.name }}</td>
                <td>{{ i.number }}</td>
                <td>{{ i.type }}</td>
                <td>{{ i.name }}</td>
                <td>{{ i.get_related_documents }}</td>


                </tr>
                {% endfor %}

        {% endfor %}
      </tbody>

    </table>
    </div>

        </div>
    </div>

{% endblock %}
